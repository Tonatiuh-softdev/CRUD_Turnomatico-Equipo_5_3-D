<link rel="stylesheet" href="../Componentes/CSS/header.css">
<script src="../../../Recursos/JS/tranducciones.js"></script>
<!-- Theme variables shared (moved to Recursos so pages without header can include early) -->
<link rel="stylesheet" href="../../../Recursos/CSS/theme-vars.css">

<header>
  
  <div class="logo">
    <a href="/../Paginas/PHP/index.php">
      <img src="../../img/img.Logo_blanco-Photoroom.png" width="70"/>
    </a>
    <h1> <?= $_SESSION["nombre_tienda"] ?? '' ?></h1>
  </div>
  
      <?php if(isset($_SESSION['rol']) && $_SESSION['rol'] === 'empleado'): ?>
          <a href="./admin/" class="btn-regresar" title="Regresar"></a>
      <?php endif; ?>
  
  
  <div class="user-panel" style="display:flex; align-items:center; gap:8px;">
     
 
  
                 <!-- From Uiverse.io by devkatyall --> 
  <label class="popup">
    <input type="checkbox" />
    <div tabindex="0" class="burger">
      <svg
        viewBox="0 0 24 24"
        fill="white"
        height="20"
        width="20"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M12 2c2.757 0 5 2.243 5 5.001 0 2.756-2.243 5-5 5s-5-2.244-5-5c0-2.758 2.243-5.001 5-5.001zm0-2c-3.866 0-7 3.134-7 7.001 0 3.865 3.134 7 7 7s7-3.135 7-7c0-3.867-3.134-7.001-7-7.001zm6.369 13.353c-.497.498-1.057.931-1.658 1.302 2.872 1.874 4.378 5.083 4.972 7.346h-19.387c.572-2.29 2.058-5.503 4.973-7.358-.603-.374-1.162-.811-1.658-1.312-4.258 3.072-5.611 8.506-5.611 10.669h24c0-2.142-1.44-7.557-5.631-10.647z"
        ></path>
      </svg>
    </div>
  
  <nav class="popup-window">
    <legend><?= $_SESSION['rol'] ?? 'Empleado' ?></legend>
      <span style="display:flex; align-items:center; gap:5px;">
              <?= $_SESSION['rol'] ?? 'Empleado' ?>
      </span>
      <ul>
      
        <li>
          <form method="post" action="../../../Recursos/PHP/ctrl_sesion.php" style="margin:0;">
              <button type="submit" name="cerrar_sesion"  title="Cerrar sesión">
                <svg
                  width="14"
                  height="14"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1"
                  stroke-linecap="round"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M2.598 9h-1.055c1.482-4.638 5.83-8 10.957-8 6.347 0 11.5 5.153 11.5 11.5s-5.153 11.5-11.5 11.5c-5.127 0-9.475-3.362-10.957-8h1.055c1.443 4.076 5.334 7 9.902 7 5.795 0 10.5-4.705 10.5-10.5s-4.705-10.5-10.5-10.5c-4.568 0-8.459 2.923-9.902 7zm12.228 3l-4.604-3.747.666-.753 6.112 5-6.101 5-.679-.737 4.608-3.763h-14.828v-1h14.826z"
                  ></path>
                </svg>
                <span>Log Out</span>
              </button>
          </form>
        
        </li>
        <li>
          <input type="checkbox" id="langToggle" class="lang-checkbox" onchange="toggleLanguage(this)">
          <button >
            <label for="langToggle">
              <svg 
              xmlns="http://www.w3.org/2000/svg" 
              alt="English" 
              width="20" 
              height="20" 
              viewBox="0 0 24 24" 
              fill="none" 
              stroke="currentColor" 
              stroke-width="1" 
              stroke-linecap="round" 
              stroke-linejoin="round" 
              class="lucide lucide-languages-icon lucide-languages"><path d="m5 8 6 6"/><path d="m4 14 6-6 2-3"/><path d="M2 5h12"/><path d="M7 2h1"/><path d="m22 22-5-10-5 10"/><path d="M14 18h6"/></svg>
            <span>Language</span>
            </label>
          </button>
        </li>

        <li>
          <button>
          <input id="input" type="checkbox" style="display:none;" />
          <label for="input" style="display:flex; align-items:center; gap:5px; cursor:pointer; padding:0.375em 1rem;">
            <svg 
              xmlns="http://www.w3.org/2000/svg"
              width="20" 
              height="20" 
              viewBox="0 0 24 24" 
              fill="none" 
              stroke="currentColor" 
              stroke-width="2" 
              stroke-linecap="round" 
              stroke-linejoin="round" 
              class="lucide lucide-sun-moon-icon lucide-sun-moon">
              <path d="M12 2v2"/>
              <path d="M14.837 16.385a6 6 0 1 1-7.223-7.222c.624-.147.97.66.715 1.248a4 4 0 0 0 5.26 5.259c.589-.255 1.396.09 1.248.715"/>
              <path d="M16 12a4 4 0 0 0-4-4"/>
              <path d="m19 5-1.256 1.256"/>
              <path d="M20 12h2"/>
            </svg>
            <span>Tema</span>
          </label>
          </button>
        </li>
      </ul>
    </nav>
  </label>
<!-- From Uiverse.io by devkatyall --> 
            
    
            
            
            
          
    

    <div class="time">
        <?php
            date_default_timezone_set('America/Mexico_City');
            echo date('h:i a') . "<br>" . date('d \d\e F Y');
        ?>
    </div>
  </div>
  <script>
      function toggleLanguage(checkbox) {
          const lang = checkbox.checked ? 'en' : 'es';
          translatePage(lang);
      }
      // Inicializar el switch según el idioma guardado
      document.addEventListener('DOMContentLoaded', function() {
          const savedLang = localStorage.getItem('selectedLanguage') || 'es';
          document.getElementById('langToggle').checked = savedLang === 'en';
      });
  </script>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const toggleSwitch = document.getElementById("input");
      const htmlElement = document.documentElement;

      // Verificar si el usuario tenía guardado un tema
      const savedTheme = localStorage.getItem("theme");
      if (savedTheme === "dark") {
        htmlElement.classList.add("dark-theme");
        toggleSwitch.checked = true;
      } else {
        htmlElement.classList.remove("dark-theme");
        toggleSwitch.checked = false;
      }

      // Detectar cambio del interruptor
      toggleSwitch.addEventListener("change", () => {
        if (toggleSwitch.checked) {
          htmlElement.classList.add("dark-theme");
          localStorage.setItem("theme", "dark");
        } else {
          htmlElement.classList.remove("dark-theme");
          localStorage.setItem("theme", "light");
        }
      });
    });
  </script>

</header>
