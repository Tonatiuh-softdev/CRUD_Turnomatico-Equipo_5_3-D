
<!-- 
 Mejoras pendientes:

                                VISUALES
    
    - Mejorar el responsivo del diseño
    - Cambiar el color de los elementos a un azul mas oscuro para que 
        combinen mejor con el tema general

                                FUNCIONALES     
    - Agregar un boton para regresar
-->



<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NEXORA - Empleado</title>
<link rel="stylesheet" href="../CSS/pantalla_empleado.css">

</head>
<body>
<?php

loadHeader();
?>
<main>
    <div class="info-container">
        <div class="card">
            <h3>EN ESPERA</h3>
            <p><?= $en_espera ?></p>
        </div>
        <div class="card">
            <p>Turno actual</p>
            <h3><?= htmlspecialchars($turno_actual['codigo_turno'] ?? '---') ?></h3>
        </div>
        <div class="card">
            <h3>ESTATUS</h3>
            <p><?= htmlspecialchars($turno_actual['estado'] ?? '---') ?></p>
        </div>
    </div>

    <form method="post" class="actions">
        <button type="button" class="btn btn-lista" onclick="toggleLista()">
            <svg class="btn-icon-lista" viewBox="0 0 24 24" fill="currentColor">
                <path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"></path>
            </svg>
            <svg class="btn-icon-lista" viewBox="0 0 24 24" fill="currentColor">
                <path d="m22 5.7-4.6-3.9-1.3 1.5 4.6 3.9zM7.9 3.4 6.6 1.9 2 5.7l1.3 1.5zM12.5 8H11v6l4.7 2.9.8-1.2-4-2.4zM12 4c-5 0-9 4-9 9s4 9 9 9 9-4 9-9-4-9-9-9m0 16c-3.9 0-7-3.1-7-7s3.1-7 7-7 7 3.1 7 7-3.1 7-7 7"></path>
            </svg>
            LISTA DE ESPERA
        </button>
        <button type="submit" name="accion" value="pausar" class="btn btn-pausar">
            <svg class="btn-icon-pausar" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"></path>
            </svg>
            <svg class="btn-icon-pausar" viewBox="0 0 24 24" fill="currentColor">
                <path d="M9 16h2V8H9zm3-14C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m1-4h2V8h-2z"></path>
            </svg>
            PAUSAR ATENCIÓN
        </button>
        <button type="submit" name="accion" value="atender" class="btn btn-atender">
            <svg class="btn-icon-atender" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"></path>
            </svg>
            <svg class="btn-icon-atender" viewBox="0 0 24 24" fill="currentColor">
                <path d="m4 18 8.5-6L4 6zm9-12v12l8.5-6z"></path>
            </svg>
            ATENDER SIGUIENTE
        </button>
    </form>

    <table id="tablaLista" class="lista-espera">
        <tr>
            <th>Código de turno</th>
            <th>Módulo (tipo)</th>
            <th>Estado</th>
        </tr>
        <?php while ($fila = $res_lista->fetch_assoc()): ?>
            <tr>
                <td><?= htmlspecialchars($fila['codigo_turno']) ?></td>
                <td><?= htmlspecialchars($fila['tipo']) ?></td>
                <td><?= htmlspecialchars($fila['estado']) ?></td>
            </tr>
        <?php endwhile; ?>
    </table>

    <a href="./registro.php" class="register">
        <svg class="register-icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M13 8c0-2.21-1.79-4-4-4S5 5.79 5 8s1.79 4 4 4 4-1.79 4-4m2 2v2h3v3h2v-3h3v-2h-3V7h-2v3zM1 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4"></path>
        </svg>
        REGISTRAR NUEVO CLIENTE
    </a>
</main>

<script src="../JS/pantallaEmpleado.js"></script>
</body>
</html>
