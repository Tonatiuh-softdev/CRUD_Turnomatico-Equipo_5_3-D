{"version":3,"sources":["servicios.js"],"names":["cargarServicios","res","servicios","tabla","regeneratorRuntime","async","_context3","prev","next","awrap","fetch","sent","addEventListener","json","formEditar","document","getElementById","innerHTML","forEach","s","fila","createElement","e","id","ID_Servicio","nombre","descripcion","Nombre","replace","Descripcion","appendChild","stop","eliminarServicio","_context4","confirm","abrupt","method","URLSearchParams","accion","style","display","value","cerrarModalEditar","formModal","_context","preventDefault","trim","cerrarModal","_context2"],"mappings":"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","file":"servicios.min.js","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\r\n  cargarServicios();\r\n\r\n  const formModal = document.getElementById(\"formModal\");\r\n  const formEditar = document.getElementById(\"formEditar\");\r\n\r\n  formModal.addEventListener(\"submit\", async (e) => {\r\n    e.preventDefault();\r\n    const nombre = document.getElementById(\"nombreModal\").value.trim();\r\n    const descripcion = document.getElementById(\"descripcionModal\").value.trim();\r\n\r\n    await fetch(\"../PHP/servicios.php\", {\r\n      method: \"POST\",\r\n      body: new URLSearchParams({ accion: \"agregar\", nombre, descripcion }),\r\n    });\r\n    cerrarModal();\r\n    cargarServicios();\r\n  });\r\n\r\n  formEditar.addEventListener(\"submit\", async (e) => {\r\n    e.preventDefault();\r\n    const id = document.getElementById(\"idEditar\").value;\r\n    const nombre = document.getElementById(\"nombreEditar\").value.trim();\r\n    const descripcion = document.getElementById(\"descripcionEditar\").value.trim();\r\n\r\n    await fetch(\"../PHP/servicios.php\", {\r\n      method: \"POST\",\r\n      body: new URLSearchParams({ accion: \"editar\", id, nombre, descripcion }),\r\n    });\r\n    cerrarModalEditar();\r\n    cargarServicios();\r\n  });\r\n});\r\n\r\nasync function cargarServicios() {\r\n  const res = await fetch(\"../PHP/servicios.php?listar=1\");\r\n  const servicios = await res.json();\r\n  const tabla = document.getElementById(\"tablaServicios\");\r\n  tabla.innerHTML = \"\";\r\n\r\n  servicios.forEach((s) => {\r\n    const fila = document.createElement(\"tr\");\r\n    fila.innerHTML = `\r\n      <td>${s.ID_Servicio}</td>\r\n      <td>${s.Nombre}</td>\r\n      <td>${s.Descripcion || \"—\"}</td>\r\n      <td>\r\n        <button class=\"btn-editar\" \r\n          onclick=\"abrirModalEditar(${s.ID_Servicio}, '${s.Nombre.replace(/'/g,\"\\\\'\")}', '${(s.Descripcion || \"\").replace(/'/g,\"\\\\'\")}')\">\r\n          <span class=\"btn-editar__icon\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\"\r\n                 viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\r\n              <path d=\"M12 20h9\" />\r\n              <path d=\"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 \r\n                       1-4 12.5-12.5z\" />\r\n            </svg>\r\n          </span>\r\n        </button>\r\n      </td>\r\n      <td>\r\n        <button class=\"btn-eliminar\" onclick=\"eliminarServicio(${s.ID_Servicio})\">\r\n          <span class=\"btn-eliminar__icon\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\"\r\n                 viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\r\n              <path d=\"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 \r\n                       0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 \r\n                       0 012 2v2M10 11v6M14 11v6\"></path>\r\n            </svg>\r\n          </span>\r\n        </button>\r\n      </td>\r\n    `;\r\n    tabla.appendChild(fila);\r\n  });\r\n}\r\n\r\nasync function eliminarServicio(id) {\r\n  if (!confirm(\"¿Eliminar este servicio?\")) return;\r\n  await fetch(\"../PHP/servicios.php\", {\r\n    method: \"POST\",\r\n    body: new URLSearchParams({ accion: \"eliminar\", id }),\r\n  });\r\n  cargarServicios();\r\n}\r\n\r\nfunction abrirModal() { document.getElementById(\"modalServicio\").style.display = \"flex\"; }\r\nfunction cerrarModal() { document.getElementById(\"modalServicio\").style.display = \"none\"; }\r\n\r\nfunction abrirModalEditar(id, nombre, descripcion) {\r\n  document.getElementById(\"idEditar\").value = id;\r\n  document.getElementById(\"nombreEditar\").value = nombre;\r\n  document.getElementById(\"descripcionEditar\").value = descripcion;\r\n  document.getElementById(\"modalEditar\").style.display = \"flex\";\r\n}\r\nfunction cerrarModalEditar() { document.getElementById(\"modalEditar\").style.display = \"none\"; }\r\n"]}