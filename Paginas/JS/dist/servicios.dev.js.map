{"version":3,"sources":["servicios.js"],"names":["document","addEventListener","cargarServicios","formModal","getElementById","formEditar","e","preventDefault","nombre","value","trim","descripcion","fetch","method","body","URLSearchParams","accion","cerrarModal","id","cerrarModalEditar","res","json","servicios","tabla","innerHTML","forEach","s","fila","createElement","ID_Servicio","Nombre","Descripcion","replace","appendChild","eliminarServicio","confirm","abrirModal","style","display","abrirModalEditar"],"mappings":"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","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\r\n  cargarServicios();\r\n\r\n  const formModal = document.getElementById(\"formModal\");\r\n  const formEditar = document.getElementById(\"formEditar\");\r\n\r\n  formModal.addEventListener(\"submit\", async (e) => {\r\n    e.preventDefault();\r\n    const nombre = document.getElementById(\"nombreModal\").value.trim();\r\n    const descripcion = document.getElementById(\"descripcionModal\").value.trim();\r\n\r\n    await fetch(\"../PHP/servicios.php\", {\r\n      method: \"POST\",\r\n      body: new URLSearchParams({ accion: \"agregar\", nombre, descripcion }),\r\n    });\r\n    cerrarModal();\r\n    cargarServicios();\r\n  });\r\n\r\n  formEditar.addEventListener(\"submit\", async (e) => {\r\n    e.preventDefault();\r\n    const id = document.getElementById(\"idEditar\").value;\r\n    const nombre = document.getElementById(\"nombreEditar\").value.trim();\r\n    const descripcion = document.getElementById(\"descripcionEditar\").value.trim();\r\n\r\n    await fetch(\"../PHP/servicios.php\", {\r\n      method: \"POST\",\r\n      body: new URLSearchParams({ accion: \"editar\", id, nombre, descripcion }),\r\n    });\r\n    cerrarModalEditar();\r\n    cargarServicios();\r\n  });\r\n});\r\n\r\nasync function cargarServicios() {\r\n  const res = await fetch(\"../PHP/servicios.php?listar=1\");\r\n  const servicios = await res.json();\r\n  const tabla = document.getElementById(\"tablaServicios\");\r\n  tabla.innerHTML = \"\";\r\n\r\n  servicios.forEach((s) => {\r\n    const fila = document.createElement(\"tr\");\r\n    fila.innerHTML = `\r\n      <td>${s.ID_Servicio}</td>\r\n      <td>${s.Nombre}</td>\r\n      <td>${s.Descripcion || \"—\"}</td>\r\n      <td>\r\n        <button class=\"btn-editar\" \r\n          onclick=\"abrirModalEditar(${s.ID_Servicio}, '${s.Nombre.replace(/'/g,\"\\\\'\")}', '${(s.Descripcion || \"\").replace(/'/g,\"\\\\'\")}')\">\r\n          <span class=\"btn-editar__icon\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\"\r\n                 viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\r\n              <path d=\"M12 20h9\" />\r\n              <path d=\"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 \r\n                       1-4 12.5-12.5z\" />\r\n            </svg>\r\n          </span>\r\n        </button>\r\n      </td>\r\n      <td>\r\n        <button class=\"btn-eliminar\" onclick=\"eliminarServicio(${s.ID_Servicio})\">\r\n          <span class=\"btn-eliminar__icon\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\"\r\n                 viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\r\n              <path d=\"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 \r\n                       0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 \r\n                       0 012 2v2M10 11v6M14 11v6\"></path>\r\n            </svg>\r\n          </span>\r\n        </button>\r\n      </td>\r\n    `;\r\n    tabla.appendChild(fila);\r\n  });\r\n}\r\n\r\nasync function eliminarServicio(id) {\r\n  if (!confirm(\"¿Eliminar este servicio?\")) return;\r\n  await fetch(\"../PHP/servicios.php\", {\r\n    method: \"POST\",\r\n    body: new URLSearchParams({ accion: \"eliminar\", id }),\r\n  });\r\n  cargarServicios();\r\n}\r\n\r\nfunction abrirModal() { document.getElementById(\"modalServicio\").style.display = \"flex\"; }\r\nfunction cerrarModal() { document.getElementById(\"modalServicio\").style.display = \"none\"; }\r\n\r\nfunction abrirModalEditar(id, nombre, descripcion) {\r\n  document.getElementById(\"idEditar\").value = id;\r\n  document.getElementById(\"nombreEditar\").value = nombre;\r\n  document.getElementById(\"descripcionEditar\").value = descripcion;\r\n  document.getElementById(\"modalEditar\").style.display = \"flex\";\r\n}\r\nfunction cerrarModalEditar() { document.getElementById(\"modalEditar\").style.display = \"none\"; }\r\n"],"file":"servicios.dev.js"}